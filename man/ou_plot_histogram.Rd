% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/plot_simulate.R
\name{ou_plot_histogram}
\alias{ou_plot_histogram}
\title{Plot simulation histogram}
\usage{
ou_plot_histogram(
  x,
  which_dim = NULL,
  which_sim = NULL,
  by_dim = TRUE,
  palette = "Temps",
  col_theory = "grey30",
  alpha = 1,
  share_xaxis = TRUE,
  share_yaxis = !freq,
  freq = FALSE,
  breaks = 30,
  main = "Affect Distribution",
  sub = paste("Dimension", if (is.null(which_dim)) {
    
    seq.int(x[["model"]][["ndim"]])
 } else {
     which_dim
 }),
  xlab = "Affect",
  ylab = ifelse(freq, "Frequency", "Density"),
  legend_position = "topright",
  ...
)
}
\arguments{
\item{x}{A \code{simulate_affectOU} model object produced by \code{\link[=simulate.affectOU]{simulate.affectOU()}}}

\item{which_dim}{Dimension indices to plot (NULL for all)}

\item{which_sim}{Simulation indices to plot (NULL for all)}

\item{by_dim}{Logical; plot each dimension in separate panel?}

\item{palette}{Color palette. Should be one \code{\link[grDevices:palettes]{grDevices::hcl.pals()}}.}

\item{col_theory}{Color for theoretical distribution line (if stationary)}

\item{alpha}{Alpha transparency for colors (0 = transparent, 1 = opaque)}

\item{share_xaxis}{Logical; use same x-axis limits for all panels?}

\item{share_yaxis}{Logical; use same y-axis limits for all panels?}

\item{freq}{Logical; plot frequency instead of density?}

\item{breaks}{Number of histogram breaks}

\item{main}{Main title}

\item{sub}{Subtitle for panels}

\item{xlab}{X-axis label}

\item{ylab}{Y-axis label}

\item{legend_position}{Position of legend (one of \code{"bottomright"}, \code{"bottom"}, \code{"bottomleft"}, \code{"left"}, \code{"topleft"}, \code{"top"}, \code{"topright"}, \code{"right"}, \code{"center"})}

\item{...}{Additional graphical parameters}
}
\value{
NULL (invisibly), called for side effects only
}
\description{
Visualise the distribution of affect values from an OU affect simulation
using histograms for each dimension. In case of multiple simulations, the
histograms aggregate data across all simulations for each dimension.
}
\section{Stationary Distribution}{

When the system is stable (\eqn{\theta > 0}), the stationary distribution
is normal with mean \eqn{\mu} and variance \eqn{\gamma^2 / (2\theta)}. The
theoretical density curve is overlaid on the histogram when the system is
stationary.

Different parameter combinations can yield the same stationary variance but
produce different dynamics. For example, doubling both \eqn{\theta} and
\eqn{\gamma} keeps the stationary SD constant but changes the half-life.
}

\examples{
model <- affectOU(ndim = 2)
sim <- simulate(model, nsim = 3)
ou_plot_histogram(sim)

# Plot dimensions in one panel
sim <- simulate(model, nsim = 1)
ou_plot_histogram(sim, by_dim = FALSE)

# Same stationary SD, different dynamics
m1 <- affectOU(theta = 0.5, mu = 0, gamma = 1) # SD = 1, half-life = 1.4
m2 <- affectOU(theta = 2.0, mu = 0, gamma = 2) # SD = 1, half-life = 0.35
s1 <- simulate(m1, stop = 100)
s2 <- simulate(m2, stop = 100)
ou_plot_histogram(s1, main = "Slow regulation")
ou_plot_histogram(s2, main = "Fast regulation")

}
